<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You ðŸ’–</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --primary: #d6286f;
      --secondary: #ff5f8a;
      --text-dark: #5e3040;
      --text-light: #ffffff;
      --gold: #e5b565;
      --glass-bg: rgba(255, 255, 255, 0.7);
      --glass-border: rgba(255, 255, 255, 0.5);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Lato', sans-serif;
      color: var(--text-dark);
      overflow: hidden;
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 99%, #fecfef 100%);
      position: relative;
    }

    /* Overlay for better text readability */
    body::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(255, 240, 245, 0.3);
      z-index: 0;
    }

    /* Ambient floating hearts background */
    .ambient-hearts {
      position: absolute;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 1;
    }

    .ambient-heart {
      position: absolute;
      color: var(--secondary);
      font-size: 24px;
      opacity: 0.3;
      animation: floatUp linear infinite;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(100vh) scale(0.5) rotate(0deg);
        opacity: 0;
      }

      20% {
        opacity: 0.4;
      }

      100% {
        transform: translateY(-10vh) scale(1) rotate(360deg);
        opacity: 0;
      }
    }

    .container {
      position: relative;
      z-index: 10;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border: 1px solid rgba(0, 0, 0, 0.05);
      border-radius: 30px;
      padding: 50px 40px;
      text-align: center;
      width: 90%;
      max-width: 500px;
      box-shadow:
        0 20px 50px rgba(0, 0, 0, 0.1),
        inset 0 0 0 1px rgba(255, 255, 255, 0.5);
      animation: appear 1s cubic-bezier(0.19, 1, 0.22, 1) forwards;
      min-height: 400px;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: appear 1s cubic-bezier(0.19, 1, 0.22, 1) forwards, floatCard 6s ease-in-out infinite;
    }

    @keyframes appear {
      from {
        transform: translateY(20px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes floatCard {

      0%,
      100% {
        transform: translateY(0);
      }

      50% {
        transform: translateY(-10px);
      }
    }

    @keyframes shake {

      0%,
      100% {
        transform: translateX(0);
      }

      10%,
      30%,
      50%,
      70%,
      90% {
        transform: translateX(-5px);
      }

      20%,
      40%,
      60%,
      80% {
        transform: translateX(5px);
      }
    }

    @keyframes pop {
      0% {
        transform: scale(0.8);
        opacity: 0;
      }

      40% {
        transform: scale(1.1);
        opacity: 1;
      }

      100% {
        transform: scale(1);
        opacity: 1;
      }
    }

    .shake-animation {
      animation: shake 0.5s cubic-bezier(.36, .07, .19, .97) both;
    }

    .pop-in {
      animation: pop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      background: linear-gradient(45deg, var(--primary), #ff8fa3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      line-height: 1.2;
      text-shadow: 0 4px 10px rgba(214, 40, 111, 0.15);
    }

    .poem {
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 30px;
      color: #7a4a5a;
      font-style: italic;
    }

    .buttons-wrapper {
      position: relative;
      height: 80px;
      width: 100%;
      margin-top: 20px;
      display: flex;
      justify-content: center;
      gap: 20px;
    }

    button {
      border: none;
      outline: none;
      cursor: pointer;
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      padding: 12px 36px;
      border-radius: 50px;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      font-weight: 700;
      letter-spacing: 0.5px;
      white-space: nowrap;
      z-index: 5;
    }

    .btn-yes {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      box-shadow: 0 10px 25px rgba(214, 40, 111, 0.4);
    }

    .btn-yes:hover {
      transform: scale(1.1) translateY(-3px);
      box-shadow: 0 15px 35px rgba(214, 40, 111, 0.5);
    }

    .btn-no {
      background: #ffffff;
      color: var(--text-dark);
      border: 2px solid #ddd;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
    }

    .btn-no.runaway {
      position: absolute;
    }

    /* Views */
    .hidden {
      display: none !important;
    }

    .fade-in {
      animation: fadeIn 0.5s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .plea-img {
      max-width: 150px;
      border-radius: 15px;
      margin-bottom: 20px;
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    /* Success & Quote */
    .flower-img {
      max-width: 100%;
      width: 250px;
      height: auto;
      filter: drop-shadow(0 20px 30px rgba(0, 0, 0, 0.1));
      animation: growIn 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      margin: 20px 0;
    }

    @keyframes growIn {
      from {
        transform: scale(0.5);
        opacity: 0;
      }

      to {
        transform: scale(1);
        opacity: 1;
      }
    }

    .quote-box {
      background: rgba(255, 255, 255, 0.4);
      padding: 20px;
      border-radius: 15px;
      margin-top: 10px;
      width: 100%;
    }

    .quote-text {
      font-family: 'Playfair Display', serif;
      font-size: 1.2rem;
      color: var(--primary);
      font-style: italic;
    }

    /* Confetti Canvas */
    #confetti {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 5;
    }
  </style>
</head>

<body>

  <!-- Ambient Hearts -->
  <div class="ambient-hearts" id="ambientHearts"></div>

  <canvas id="confetti"></canvas>

  <div class="container">

    <!-- STEP 1: Initial Question -->
    <div id="step1" class="fade-in">
      <h1>Sree.. <br>Will you be my Valentine? ðŸ’–</h1>
      <div class="poem">
        Roses are red,<br>
        Violets are blue,<br>
        My world is beautiful,<br>
        Because of you.
      </div>

      <div class="buttons-wrapper">
        <button class="btn-yes" onclick="handleYes()">YES! ðŸ’•</button>
        <button class="btn-no" onclick="handleInitialNo()">No ðŸ™ˆ</button>
      </div>
    </div>

    <!-- STEP 2: The Plea (Are you sure?) -->
    <div id="step2" class="hidden fade-in">
      <h1>Wait... really? ðŸ¥º</h1>
      <p style="margin-bottom: 25px; color: #7a4a5a;">
        Are you sure? It would make me so sad...<br>
        Please give me another chance?
      </p>

      <div class="buttons-wrapper" id="pleaBtnWrapper">
        <button class="btn-yes" onclick="handleYes()">Okay, Yes! ðŸ’˜</button>
        <button class="btn-no" id="runawayBtn">Really No ðŸ’”</button>
      </div>
    </div>

    <!-- STEP 3: Success -->
    <div id="success" class="hidden fade-in" style="width: 100%;">
      <h1>Yay! I knew it! ðŸŒ¹</h1>
      <img src="red_flower_v2.png" alt="A beautiful red rose for you" class="flower-img">

      <div class="quote-box">
        <p class="quote-text" id="loveQuote">"Every love story is beautiful, but ours is my favorite."</p>
      </div>
    </div>

  </div>

  <script>
    // --- Ambient Hearts Generation ---
    const ambientHearts = document.getElementById('ambientHearts');
    const heartSymbols = ['ðŸ’–', 'ðŸ’•', 'ðŸ§¡', 'ðŸ’—', 'ðŸ’“', 'ðŸŒ¸'];

    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('ambient-heart');
      heart.innerText = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = Math.random() * 5 + 5 + 's';
      heart.style.fontSize = Math.random() * 20 + 20 + 'px';
      ambientHearts.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 10000);
    }

    setInterval(createHeart, 500);

    // --- Quotes ---
    const loveQuotes = [
      "You are my sun, my moon, and all my stars.",
      "I love you more than words can wield the matter.",
      "To the world you may be one person, but to one person you are the world.",
      "My heart is and always will be yours.",
      "In all the world, there is no heart for me like yours.",
      "I seem to have loved you in numberless forms, numberless times."
    ];

    // --- Interaction Logic ---
    const step1 = document.getElementById('step1');
    const step2 = document.getElementById('step2');
    const success = document.getElementById('success');
    const runawayBtn = document.getElementById('runawayBtn');
    const pleaBtnWrapper = document.getElementById('pleaBtnWrapper');

    function handleInitialNo() {
      step1.classList.add('hidden');
      step2.classList.remove('hidden');
    }

    function handleYes() {
      step1.classList.add('hidden');
      step2.classList.add('hidden');
      success.classList.remove('hidden');

      // Set random quote
      const quote = loveQuotes[Math.floor(Math.random() * loveQuotes.length)];
      document.getElementById('loveQuote').innerText = `"${quote}"`;

      fireConfetti();
    }

    // Runaway Button Logic for the "Really No" button
    runawayBtn.addEventListener('mouseenter', moveButton);
    runawayBtn.addEventListener('click', moveButton);

    function moveButton(e) {
      e.preventDefault();
      // Switch to absolute positioning if not already
      if (!runawayBtn.classList.contains('runaway')) {
        runawayBtn.classList.add('runaway');
        runawayBtn.style.position = 'absolute';
      }

      const wrapperRect = pleaBtnWrapper.getBoundingClientRect();
      const btnRect = runawayBtn.getBoundingClientRect();

      // Calculate random position
      // We want it to stay somewhat near but hard to click
      const maxDist = 200;
      const randomX = (Math.random() - 0.5) * maxDist * 2;
      const randomY = (Math.random() - 0.5) * maxDist * 2;

      runawayBtn.style.transform = `translate(${randomX}px, ${randomY}px)`;
    }

    // --- Confetti Effect ---
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');
    let width = window.innerWidth;
    let height = window.innerHeight;
    canvas.width = width;
    canvas.height = height;

    window.addEventListener('resize', () => {
      width = window.innerWidth;
      height = window.innerHeight;
      canvas.width = width;
      canvas.height = height;
    });

    function fireConfetti() {
      const colors = ['#ff5f8a', '#d6286f', '#ffd56a', '#fff'];
      const particles = [];
      const particleCount = 150;

      for (let i = 0; i < particleCount; i++) {
        particles.push({
          x: width / 2,
          y: height / 2,
          w: Math.random() * 10 + 5,
          h: Math.random() * 10 + 5,
          dx: (Math.random() - 0.5) * 10,
          dy: (Math.random() - 0.5) * 10 - 5,
          color: colors[Math.floor(Math.random() * colors.length)],
          tilt: Math.random() * 10,
          tiltAngle: Math.random() * 10,
          vTiltAngle: Math.random() * 0.1
        });
      }

      function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, width, height);

        particles.forEach((p, index) => {
          p.tiltAngle += p.vTiltAngle;
          p.y += (Math.cos(p.tiltAngle) + 1 + p.h / 10) / 2;
          p.x += Math.sin(p.tiltAngle) * 2;
          p.y += 2;

          p.x += p.dx;
          p.y += p.dy;

          p.dx *= 0.96;
          p.dy *= 0.96;
          p.dy += 0.1;

          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.rect(p.x, p.y, p.w, p.h);
          ctx.fill();

          if (p.y > height) {
            particles.splice(index, 1);
          }
        });
      }
      animate();
    }
  </script>
</body>

</html>